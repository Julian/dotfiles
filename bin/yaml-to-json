#! /usr/bin/env python
import sys
import json

import yaml


file = open(sys.argv[1]) if len(sys.argv) > 1 else sys.stdin

with file:
    contents = yaml.safe_load(file)

if sys.stdout.isatty():
    arguments = dict(indent=2, sort_keys=True)
else:
    arguments = {}

json.dump(contents, sys.stdout, **arguments)
